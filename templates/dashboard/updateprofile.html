{% extends 'base.html' %}
{% block content %}
<style>
    .sidenav {
    height: 100vh;
    /* width: 0; */
    z-index: 1;
    top: 0;
    left: 0;
    background-color: #f9f7f7;
    overflow-x: hidden;
    transition: 0.5s;
    padding-top: 60px;
    border-right: 1.5px solid #ebe9e9;
    }
    .sidenav a {
    padding: 8px 4px 8px 8px;
    margin-bottom: 0.8rem;
    text-decoration: none;
    font-size: 20px;
    font-weight: 400;
    color: #292929;
    display: block;
    transition: 0.3s;
    }
    .sidenav a:hover {
    color: #ff4b2b;
    /* background-color: rgb(253, 119, 71); */
    margin-left: 0.4rem;
    margin-right: 0.4rem;
    border-bottom: 1px solid gray;
    }
    .sidenav a:active {
    color: white;
    background-color: #0e0d0d;
    font-weight: 600;
    border-radius: 10px;
    }
    /* Mobile */
    .mobile-sidebar a {
    padding: 8px 4px 8px 8px;
    margin-bottom: 0.8rem;
    text-decoration: none;
    font-size: 20px;
    font-weight: 400;
    color: #292929;
    display: block;
    transition: 0.3s;
    }
    .mobile-sidebar a:hover {
    color: #ff4b2b;
    border-bottom: 1px solid gray;
    /* background-color: rgb(253, 119, 71); */
    margin-left: 0.4rem;
    margin-right: 0.4rem;
    border-bottom: 1px solid gray;
    }
    .mobile-sidebar a:active {
    color: white;
    background-color: #0e0d0d;
    font-weight: 600;
    border-radius: 10px;
    }
    /* Mobile */
    @media screen and (max-width: 800px) {
    /* .sidenav {padding-top: 45px;} */
    .sidenav a {
    font-size: 18px;
    }
    }
    .fs-0 {
    font-size: 16px;
    }
    .input:focus {
    outline: 2px solid black;
    }
    .delete-btn:hover {
    color: red;
    background: white;
    }
    .view-profile-btn:hover {
    color: yellow;
    background: white;
    }
    .delete-btn:hover {
    color: red;
    background: white;
    }
    .upload-property-btn:hover {
    color: rgb(178, 178, 41);
    background: white;
    }
    .Change-btn:hover {
    color: green;
    background: white;
    }
    .form-control {
    padding: 12px;
    }
    input[type="file"] {
    padding: 10px;
    border: 2px dotted black;
    }
    .upload {
    height: 700px !important;
    position: relative !important;
    overflow-y: scroll;
    }
    #deleteprofile,
    #EditProfile {
    display: block;
    }
    #changepass{
    display: block;
    }
    
</style>
<div class="d-md-flex h">
    <div id="mySidenav"class="sidenav col-xl-2 col-md-3 bg-dander d-md-block d-none">
        <a href="{% url 'wishlist' %}"
            ><i class="fa-solid fa-clipboard-list fs-lg-5 me-1"></i> Your
        wishlist</a
            >
        <a href="{% url 'upload' %}" 
            ><i class="bi bi-cloud-plus-fill fs-lg-5 me-1"></i> Upload property</a
            >
        <a href="{% url 'message' %}">
        <i class="bi bi-chat-left-text-fill fs-lg-5 me-1"></i> Messages</a
            >
        <a href="{% url 'profileupdate' request.user.id %}" 
            ><i class="bi bi-person-circle fs-lg-5 me-1"></i> Verify Profile</a
            >
            {% if user.has_usable_password %}
            <a href="{% url 'changepassword' %}" 
                ><i class="fa-solid fa-unlock-keyhole fs-lg-5 me-1"></i>
            Change password</a
                >
                {% else %}
                <a href="{% url 'setpassword' %}" 
                ><i class="fa-solid fa-unlock-keyhole fs-lg-5 me-1"></i>
            set password</a>
                {% endif %}
            <a href="{% url 'Yourproperty' %}" >
                <i class="fa-solid fa-clipboard-list fs-lg-5 me-1"></i>Your Uploaded Property</a
                    >
        <a href="{% url 'logout' %}"
            ><i class="bi bi-box-arrow-right fs-lg-5 me-1 fw-semibold"></i>
        Logout</a
            >
    </div>
    <!-- Mobile View -->
    <div class="d-md-none d-block">
        <button
        style="height: 50px;"
   class="btn btn-danger sidbut fs-5 w-100 rounded-0 justify-content-start d-flex"
   type="button"
   data-bs-toggle="offcanvas"
   data-bs-target="#offcanvasExample"
   aria-controls="offcanvasExample"
 >
  <i class="bi bi-box-arrow-right text-black fs-4 me-1 fw-semibold"> User Dashbord</i>
 </button>
 <div
 class="offcanvas offcanvas-start col-sm-6 col-8"
 tabindex="-1"
 id="offcanvasExample"
 aria-labelledby="offcanvasExampleLabel"
 >
 <div class="offcanvas-header">
     <h5 class="offcanvas-title" id="offcanvasExampleLabel">
         Dashboard
     </h5>
     <a
         type="button"
         class="btn-close"
         data-bs-dismiss="offcanvas"
         aria-label="Close"
         ></a>
 </div>
 <div class="offcanvas-body mobile-sidebar">
     <a href="{% url 'wishlist' %}"
         ><i class="fa-solid fa-clipboard-list fs-lg-5 me-1"></i> Your
     wishlist</a
         >
     <a href="{% url 'upload' %}"
         ><i class="bi bi-cloud-plus-fill fs-lg-5 me-1"></i> Upload
     property</a
         >
     <a href="{% url 'message' %}">
     <i class="bi bi-chat-left-text-fill fs-lg-5 me-1"></i> Messages</a
         >
     <a href="{% url 'profileupdate' request.user.id %}"
         ><i class="bi bi-person-circle fs-lg-5 me-1"></i> Verify
     Profile</a
         >
         {% if user.has_usable_password %}
         <a href="{% url 'changepassword' %}" 
             ><i class="fa-solid fa-unlock-keyhole fs-lg-5 me-1"></i>
         Change password</a
             >
             {% else %}
             <a href="{% url 'setpassword' %}" 
             ><i class="fa-solid fa-unlock-keyhole fs-lg-5 me-1"></i>
         set password</a>
             {% endif %}
             <a href="{% url 'Yourproperty' %}" >
               <i class="fa-solid fa-clipboard-list fs-lg-5 me-1"></i>Your Uploaded Property</a
                   >
       <a href="{% url 'logout' %}"
           ><i class="bi bi-box-arrow-right fs-lg-5 me-1 fw-semibold"></i>
       Logout</a
           >
 </div>
</div>
    </div>
    <!-- Mobile View -->
    <div class="delete w-100" id="EditProfile">
        <div class="fs-1 fw-semibold px-5 my-5">Edit Profile</div>
        <div
          class="d-flex flex-column m-2 mx-md-5 p-5 rounded"
          style="background-color: #f9f7f7;"
        >
          <form action="{% url 'profileupdate' user.id %}" class="row g-3" method="post">
            {%csrf_token%}
            <div class="col-md-6">
              <label for="inputlastname" class="form-label" >Name</label>
              <input required=true type="text" name="firstname" class="form-control" value="{{user.first_name}}" id="inputfirstname" />
            </div>
            <div class="col-md-6">
              <label for="inputlastname" class="form-label" >Last Name</label>
              <input required=true type="text" name="lastname" class="form-control" value={{ user.last_name }} id="inputlastname" />
            </div>
            <div class="col-md-2">
                <label for="inputZip" class="form-label" >Phone number</label>
                <input required=true type="number" class="form-control" name="phonenumber" value={{ user.phone_number }} id="inputZip" />
              </div>
              {% if ans == None %}
            {% comment %} <div class="">   {% endcomment %}
            <div class="col-12">
            <label for="inputAddress" class="form-label" >Address line 1</label>
            <textarea required=true
            type="text"
              class="input form-control fs-md- fs-0 py-3"
              id="formGroupExampleInput2"
              placeholder="Property Discription"
              name="address1" placeholder="Address" 
            ></textarea>
            </div>
            <div class="col-md-6">
              <label for="inputCity" class="form-label" >City</label>
              <input required=true type="text" name="city" class="form-control" id="inputCity" />
            </div>
            <div class="col-md-6">
                <label for="inputCity" class="form-label">State</label>
                <input required=true type="text" name="state" class="form-control" id="inputCity" />
            </div>
            <div class="col-md-2">
              <label for="inputZip" class="form-label" >Zip</label>
              <input required=true type="number" class="form-control" name="pincode"  id="inputZip" />
            </div>
            {% else %}
            
            <div class="col-12">
                <label for="inputAddress" class="form-label" >Address line 1</label>
                <textarea required=true
                  type="text"
                  class="input form-control fs-md- fs-0 py-3"
                  id="formGroupExampleInput2"
                  placeholder="Property Discription"
                  name="address1" placeholder="Address" 
                >{{ ans.address_line_1 }}</textarea>
              </div>
              <div class="col-md-6">

                <label for="inputCity" class="form-label" >City</label>
                <input required=true type="text" name="city" class="form-control"  id="inputCity" value='{{ ans.city }}' />
              </div>
              <div class="col-md-6">
                  <label for="inputCity" class="form-label" >State</label>
                  <input required=true type="text" name="state" class="form-control" value={{ ans.state }} id="inputCity"/>
              </div>
              <div class="col-md-2">
                <label for="inputZip" class="form-label" >Zip</label>
                <input required=true type="number" class="form-control" name="pincode" value="{{ ans.pincode }}" id="inputZip" />
              </div>
              {% endif %}
              
              <button
                type="submit"
                class="edit-btn btn btn-success py-md-3 px-md-4 fs-0"
              >
              Edit Profile
              </button>
              <label>Note:please enter a correct phone number as it will be stored in our databases 
              </label>
            </div>
          </form>
        </div>
      </div>
</div>

{% endblock %}